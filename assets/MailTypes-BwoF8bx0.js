import{i as p,o as j,v as q,x as P,j as _,k as r,u as W,a as m,f as s,c as R,h as A,b as l,n as S,t as k,l as b,T as z,y as H}from"./index-BnF8l7AT.js";import{s as K}from"./index-Deb8zi4B.js";import{s as G,a as J}from"./index-D3Syt0LG.js";import{s as Q}from"./index-DYxEU3Wq.js";import{s as X}from"./index-DwCSzFUG.js";import{s as Y}from"./index-CbBKQ2l_.js";import{s as Z}from"./index-BRlZ3SBp.js";import{s as ee}from"./index-BDIEn-p3.js";import"./index-zgDmictm.js";import"./index-CQH9gJwO.js";import"./index-ChJwIltM.js";import"./index-epHUvvum.js";import"./index-CzJVMVY-.js";import"./index-Dk0ZL192.js";import"./index-DtXwNtbH.js";import"./index-6EaRLu2w.js";import"./index-BFZwT1Qq.js";import"./index-w096dqtu.js";import"./index-8vjeD20S.js";import"./index-TjWDhc1m.js";import"./index-BLAYFmGR.js";import"./index-CqtfB3vE.js";import"./index-BN19Y5sp.js";import"./index-CHXuy6Qz.js";import"./index-CVG5mdBt.js";import"./index-Cd0tL7SR.js";import"./index-CNzma9Bh.js";const te={class:"flex -ml-2"},oe={key:0,class:"w-16"},ie=["onClick"],se={key:1,class:"w-16"},ne=["onClick"],le=["onClick"],re=["onClick"],ae={style:{minWidth:"10rem"}},ce={class:"flex justify-end w-full px-0"},pe={ref:"actionRef",class:"action-buttons",style:{display:"none"}},Ue={__name:"MailTypes",props:{mails:{type:Array}},emits:["spam","archive","trash","change:mail:type","reply"],setup(B,{emit:E}){const u=E,I=W(),w=p(null),g=p(null),a=p([]),N=p([{label:"Archive",icon:"pi pi-file",command:()=>v("archive")},{label:"Spam",icon:"pi pi-ban",command:()=>v("spam")},{label:"Delete",icon:"pi pi-trash",command:()=>v("trash")}]),d=p({global:{value:null,matchMode:H.CONTAINS}});j(()=>{f("addEventListener")}),q(async()=>{await f("removeEventListener"),await f("addEventListener")}),P(()=>{f("addEventListener")});function f(o){[...g.value.$el.querySelectorAll("tbody > tr")].forEach(i=>{i[o]("mouseenter",n=>x(n,i)),i[o]("mouseleave",n=>x(n,i))})}function x(o,t){const i=t.querySelector(".action-buttons"),n=t.querySelector(".date-text");!i||!n||(o.type==="mouseenter"?(i.style.display="flex",n.style.display="none"):(i.style.display="none",n.style.display="flex"))}function v(o){if(a.value.length!==0){for(const t of a.value)M(t);u(o,a.value),a.value=[]}}function C(o,t){M(t),u(o,t),a.value=[]}function $(o,t){u("change:mail:type",o,t,!t[o])}function V(o){u("reply",o)}function y(o){I.push({name:"mail-detail",params:{id:o}})}function M(o){Object.keys(o).forEach(t=>{o[t]===!0&&(o[t]=!1)})}return(o,t)=>{const i=ee,n=Z,D=Y,T=X,L=J,U=Q,F=G,O=K,h=z;return m(),_(O,{ref_key:"mailTable",ref:g,value:B.mails,selection:a.value,"onUpdate:selection":t[2]||(t[2]=e=>a.value=e),filters:d.value,"onUpdate:filters":t[3]||(t[3]=e=>d.value=e),rows:10,paginator:"",rowsPerPageOptions:[10,20,30],dataKey:"id",rowHover:"",globalFilterFields:["from","to","title","message"]},{default:r(()=>[s(i,{selectionMode:"multiple",style:{width:"4rem"}}),s(i,{style:{width:"8rem"}},{header:r(()=>[l("div",te,[s(n,{type:"button",icon:"pi pi-refresh",text:"",plain:"",rounded:""}),s(n,{type:"button",icon:"pi pi-ellipsis-v",class:"ml-4",text:"",plain:"",rounded:"",onClick:t[0]||(t[0]=e=>w.value.toggle(e))}),s(D,{ref_key:"menuRef",ref:w,popup:"",model:N.value,class:"w-32"},null,8,["model"])]),t[4]||(t[4]=l("div",null,null,-1))]),body:r(({data:e})=>[!e.trash&&!e.spam?(m(),R("td",oe,[l("span",{class:"cursor-pointer",onClick:c=>$("starred",e)},[l("i",{class:S(["pi pi-fw text-xl",{"pi-star-fill":e.starred,"pi-star":!e.starred}])},null,2)],8,ie)])):A("",!0),!e.trash&&!e.spam?(m(),R("td",se,[l("span",{class:"cursor-pointer ml-4",onClick:c=>$("important",e)},[l("i",{class:S(["pi pi-fw text-xl",{"pi-bookmark-fill":e.important,"pi-bookmark":!e.important}])},null,2)],8,ne)])):A("",!0)]),_:1}),s(i,{style:{"min-width":"4rem"}},{body:r(({data:e})=>[e.image?(m(),_(T,{key:1,onClick:c=>y(e.id),id:e.id,image:`/demo/images/avatar/${e.image?e.image:".png"}`,class:"cursor-pointer"},null,8,["onClick","id","image"])):(m(),_(T,{key:0,icon:"pi pi-user",shape:"circle"}))]),_:1}),s(i,{style:{"min-width":"4rem"}},{body:r(({data:e})=>[l("div",{onClick:c=>y(e.id),style:{minWidth:"12rem"},class:"text-surface-900 dark:text-surface-0 font-semibold cursor-pointer"},k(e.from||e.to),9,le)]),_:1}),s(i,{style:{"min-width":"30rem"}},{body:r(({data:e})=>[l("span",{onClick:c=>y(e.id),class:"font-medium whitespace-nowrap overflow-hidden text-ellipsis block cursor-pointer",style:{"max-width":"30rem"}},k(e.title),9,re)]),_:1}),s(i,{field:"date"},{header:r(()=>[s(F,{class:"w-full"},{default:r(()=>[s(L,{class:"pi pi-search"}),s(U,{type:"text",placeholder:"Search Mail",class:"w-full sm:w-auto",modelValue:d.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=e=>d.value.global.value=e)},null,8,["modelValue"])]),_:1})]),body:r(({data:e})=>[l("div",ae,[l("div",ce,[l("span",{ref:"dateRef",class:"date-text text-surface-700 dark:text-surface-100 font-semibold whitespace-nowrap"},k(e.date),513),l("div",pe,[b(s(n,{onClick:c=>C("archive",e),type:"button",icon:"pi pi-inbox",class:"h-8 w-8 mr-2"},null,8,["onClick"]),[[h,"Archive",void 0,{top:!0}]]),b(s(n,{onClick:c=>V(e),type:"button",icon:"pi pi-reply",class:"h-8 w-8 mr-2",severity:"secondary"},null,8,["onClick"]),[[h,"Reply",void 0,{top:!0}]]),b(s(n,{onClick:c=>C("trash",e),type:"button",icon:"pi pi-trash",class:"h-8 w-8",severity:"danger"},null,8,["onClick"]),[[h,"Trash",void 0,{top:!0}]])],512)])])]),_:1})]),_:1},8,["value","selection","filters"])}}};export{Ue as default};
