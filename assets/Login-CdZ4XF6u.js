import{s as b}from"./index-rt5Ln_qp.js";import{s as w}from"./index-BRlZ3SBp.js";import{s as h,a as k}from"./index-D3Syt0LG.js";import{s as v}from"./index-DYxEU3Wq.js";import{_ as V,a as I}from"./appname-gray-zZ5hlTXw.js";import{aS as $,r as C,o as S,c as E,b as e,g as u,f as l,k as r,n as B,u as N,a as D,U as g}from"./index-BnF8l7AT.js";import{a as F}from"./axios-DZuKcKrn.js";import"./index-CQH9gJwO.js";import"./index-zgDmictm.js";const L={class:"login-image w-6/12 h-screen hidden md:block",style:{"max-width":"490px"}},T=["src"],U={class:"login-panel w-full",style:{background:"var(--surface-ground)"}},P={class:"flex flex-col"},j={class:"flex items-center mb-12 logo-container"},z=["src"],M=["src"],R={class:"form-container"},q={class:"button-container"},A={class:"flex text-sm text-surface-500 dark:text-surface-400"},ee={__name:"Login",setup(G){const{isDarkTheme:n}=$(),i=N();function m(){return n.value?"light":"dark"}const t=C({email:"",password:""});S(()=>{const o=sessionStorage.getItem("email");o&&(t.email=o,sessionStorage.removeItem("email"))});function f(){i.push({name:"register"})}async function x(){if(t.email!=""&&t.password!=""){const o=await F.login(t);console.log(o),o.success?(sessionStorage.setItem("email",t.email),sessionStorage.setItem("type","login"),i.push({name:"verification"})):o.isValidationError?console.error("Ошибка валидации:",o.errors):o.isNetworkError?console.error("Сетевая ошибка"):console.error("Ошибка:",o.status,o.errors)}}return(o,s)=>{const c=k,p=v,d=h,_=w,y=b;return D(),E("div",{class:B("login-body flex min-h-screen "+(u(n)?"layout-dark":"layout-light"))},[e("div",L,[e("img",{src:"/demo/images/pages/login-"+(u(n)?"ondark":"onlight")+".png",alt:"atlantis",class:"h-screen w-full"},null,8,T)]),e("div",U,[l(y,{class:"min-h-screen text-center w-full flex items-center md:items-start justify-center flex-col bg-auto md:bg-contain bg-no-repeat",style:{padding:"20% 10% 20% 10%",background:"var(--exception-pages-image)"}},{default:r(()=>[e("div",P,[e("div",j,[e("img",{src:`/layout/images/logo/logo-${m()}.png`,class:"login-logo",style:{width:"45px"}},null,8,z),e("img",{src:`/layout/images/logo/appname-${m()}.png`,class:"login-appname ml-4",style:{width:"100px"}},null,8,M)]),e("div",R,[l(d,null,{default:r(()=>[l(c,{class:"pi pi-envelope"}),l(p,{type:"text",modelValue:t.email,"onUpdate:modelValue":s[0]||(s[0]=a=>t.email=a),autocomplete:"off",placeholder:"Email",class:"block mb-4",style:{"max-width":"320px","min-width":"270px"}},null,8,["modelValue"])]),_:1}),l(d,null,{default:r(()=>[l(c,{class:"pi pi-key"}),l(p,{type:"password",modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=a=>t.password=a),autocomplete:"off",placeholder:"Password",class:"block mb-4",style:{"max-width":"320px","min-width":"270px"}},null,8,["modelValue"])]),_:1}),s[4]||(s[4]=e("a",{href:"#",class:"flex text-surface-500 dark:text-surface-400 mb-6 text-sm"},"Forgot your password?",-1))]),e("div",q,[l(_,{type:"button",onClick:s[2]||(s[2]=a=>x()),class:"block",style:{"max-width":"320px","margin-bottom":"32px"}},{default:r(()=>s[5]||(s[5]=[g("Login")])),_:1}),e("span",A,[s[6]||(s[6]=g("Don’t have an account?")),e("a",{onClick:s[3]||(s[3]=a=>f()),class:"cursor-pointer ml-1",style:{"border-bottom":"1px solid white"}},"Sign-up here")])])]),s[7]||(s[7]=e("div",{class:"login-footer flex items-center absolute",style:{bottom:"75px"}},[e("div",{class:"flex items-center login-footer-logo-container pr-6 mr-6 border-r border-surface-200 dark:border-surface-700"},[e("img",{src:V,class:"login-footer-logo",style:{width:"22px"}}),e("img",{src:I,class:"login-footer-appname ml-2",style:{width:"45px"}})]),e("span",{class:"text-sm text-surface-500 dark:text-surface-400 mr-4"},"Copyright 2024")],-1))]),_:1})])],2)}}};export{ee as default};
