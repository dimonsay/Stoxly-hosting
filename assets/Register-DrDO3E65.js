import{s as U}from"./index-rt5Ln_qp.js";import{s as _}from"./index-BRlZ3SBp.js";import{s as R}from"./index-BN19Y5sp.js";import{s as I,a as E}from"./index-D3Syt0LG.js";import{s as S}from"./index-DYxEU3Wq.js";import{_ as A,a as L}from"./appname-gray-zZ5hlTXw.js";import{a as P}from"./axios-DZuKcKrn.js";import{aS as T,r as c,c as j,b as a,f as r,k as n,n as m,g as z,u as F,a as Z,U as x}from"./index-BnF8l7AT.js";import"./index-CQH9gJwO.js";import"./index-zgDmictm.js";import"./index-CzJVMVY-.js";import"./index-CHXuy6Qz.js";const D={class:"w-full",style:{background:"var(--surface-ground)"}},H={class:"flex justify-between w-full",style:{padding:"0 5%","align-items":"center"}},W={class:"flex flex-col justify-center",style:{margin:"0 auto"}},q={class:"flex items-center mb-12 logo-container"},G=["src"],J={class:"form-container text-left",style:{"max-width":"320px","min-width":"270px"}},K={class:"mt-2 flex flex-wrap hidden"},M={class:"button-container mt-6 text-left",style:{"max-width":"320px","min-width":"270px"}},O={class:"buttons flex items-center gap-4"},de={__name:"Register",setup(Q){const{isDarkTheme:w}=T(),g=F();function N(){return w.value?"light":"dark"}const s=c({firstName:"asd",lastName:"asd",username:"dimonsay",email:"dimonwar12@gmail.com",password:"Varvarua73219@",password2:"Varvarua73219@"});c("");const t=c({firstName:!1,lastName:!1,username:!1,email:!1,password:!1,password2:!1,code:!1,validateCodeHidden:!1});function f(o){const e=/^(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>]).{6,}$/;return o&&(t.password=!e.test(o)),!t.password}function b(){t.password2=!0,f()&&s.password==s.password2&&(t.password2=!1)}function y(o){const e=/^((?!\.)[\w-_.]*[^.])(@\w+)(\.\w+(\.\w+)?[^.\W])$/gim;o&&(t.email=!e.test(o))}function u(o,e){const i=/^[a-zA-Zа-яА-ЯёЁ]{2,}$/;o&&(e=="first"?t.firstName=!i.test(o):e=="last"&&(t.lastName=!i.test(o)))}function v(o){const e=/^[a-zA-Zа-яА-ЯёЁ0-9]{6,}$/;o&&(t.username=!e.test(o))}function V(){return s.firstName==""&&(t.firstName=!0),s.lastName==""&&(t.lastName=!0),s.username==""&&(t.username=!0),s.email==""&&(t.email=!0),s.password==""&&(t.password=!0),s.password2==""&&(t.password2=!0),!0}async function $(){if(t.firstName=!1,t.lastName=!1,t.username=!1,t.password=!1,t.password2=!1,t.email=!1,V()&&(y(s.email),u(s.firstName),f(s.password),v(s.username),u(s.lastName),b(s.password2),!t.firstName&&!t.lastName&&!t.username&&!t.email&&!t.password&&!t.password2)){const o=await P.register(s);o.success?(sessionStorage.setItem("email",s.email),sessionStorage.setItem("type","registration"),g.push({name:"verification"})):o.isValidationError?(console.error("Validation errors:",o.errors),o.errors.username&&(t.username=!0),o.errors.email&&(t.email=!0)):console.error("Registration failed:",o.error)}}function C(){g.push("/")}return(o,e)=>{const i=S,d=I,p=E,h=R,k=_,B=U;return Z(),j("div",{class:m("login-body flex min-h-screen  "+(z(w)?"layout-dark":"layout-light"))},[a("div",D,[r(B,{class:"min-h-screen text-center w-full flex items-center md:items-start justify-center flex-col bg-auto md:bg-contain bg-no-repeat max-w-full",style:{"align-items":"center",background:"var(--exception-pages-image)"}},{default:n(()=>[a("div",H,[a("div",W,[a("div",q,[a("img",{src:`/layout/images/logo/logo-${N()}.png`,class:"login-logo",style:{width:"45px"}},null,8,G),e[13]||(e[13]=a("div",{class:"login-appname ml-4 font-bold"},[a("div",{class:"name text-xl",style:{"text-align":"left"}},"Stoxly"),a("div",{class:"undername",style:{"font-weight":"100"}},"Bordless invest")],-1))]),a("div",J,[e[16]||(e[16]=a("span",{class:"text-2xl font-semibold m-0 mb-2"},"Register",-1)),e[17]||(e[17]=a("span",{class:"block text-surface-600 dark:text-surface-200 font-medium mb-6"},"Let's get started",-1)),r(d,null,{default:n(()=>[r(i,{modelValue:s.firstName,"onUpdate:modelValue":e[0]||(e[0]=l=>s.firstName=l),type:"text",autocomplete:"off",placeholder:"First Name",class:m(["block mb-5",{"error-border":t.firstName}]),onBlur:e[1]||(e[1]=l=>u(s.firstName,"first")),style:{"max-width":"320px","min-width":"270px"}},null,8,["modelValue","class"])]),_:1}),r(d,null,{default:n(()=>[r(i,{modelValue:s.lastName,"onUpdate:modelValue":e[2]||(e[2]=l=>s.lastName=l),type:"text",autocomplete:"off",placeholder:"Last Name",class:m(["block mb-5",{"error-border":t.lastName}]),onBlur:e[3]||(e[3]=l=>u(s.lastName,"last")),style:{"max-width":"320px","min-width":"270px"}},null,8,["modelValue","class"])]),_:1}),r(d,null,{default:n(()=>[r(p,{class:"pi pi-user"}),r(i,{modelValue:s.username,"onUpdate:modelValue":e[4]||(e[4]=l=>s.username=l),type:"text",autocomplete:"off",placeholder:"Username",class:m(["block mb-5",{"error-border":t.username}]),onBlur:e[5]||(e[5]=l=>v(s.username)),style:{"max-width":"320px","min-width":"270px"}},null,8,["modelValue","class"])]),_:1}),r(d,null,{default:n(()=>[r(p,{class:"pi pi-envelope"}),r(i,{modelValue:s.email,"onUpdate:modelValue":e[6]||(e[6]=l=>s.email=l),type:"mail",autocomplete:"off",placeholder:"Email",class:m(["block mb-5",{"error-border":t.email}]),onBlur:e[7]||(e[7]=l=>y(s.email)),style:{"max-width":"320px","min-width":"270px"}},null,8,["modelValue","class"])]),_:1}),r(d,null,{default:n(()=>[r(p,{class:"pi pi-key"}),r(i,{modelValue:s.password,"onUpdate:modelValue":e[8]||(e[8]=l=>s.password=l),type:"password",autocomplete:"current-password",placeholder:"Password",onBlur:e[9]||(e[9]=l=>f(s.password)),class:m(["block mb-5",{"error-border":t.password}]),style:{"max-width":"320px","min-width":"270px"}},null,8,["modelValue","class"])]),_:1}),r(d,null,{default:n(()=>[r(p,{class:"pi pi-key"}),r(i,{modelValue:s.password2,"onUpdate:modelValue":e[10]||(e[10]=l=>s.password2=l),type:"password",autocomplete:"current-password",placeholder:"Confirm Password",onBlur:e[11]||(e[11]=l=>b(s.password2)),class:m(["block mb-5",{"error-border":t.password2}]),style:{"max-width":"320px","min-width":"270px"}},null,8,["modelValue","class"])]),_:1}),a("div",K,[r(h,{type:"checkbox",id:"confirmed",binary:!0,class:"mr-2"}),e[14]||(e[14]=a("label",{for:"confirmed",class:"text-surface-900 dark:text-surface-0 font-medium mr-2"},"I have read the",-1)),e[15]||(e[15]=a("a",{class:"text-surface-600 dark:text-surface-200 hover:text-primary cursor-pointer"},"Terms and Conditions",-1))])]),a("div",M,[a("div",O,[r(k,{type:"button",onClick:e[12]||(e[12]=l=>$()),class:"block",style:{"max-width":"320px","margin-bottom":"32px"}},{default:n(()=>e[18]||(e[18]=[x("Submit")])),_:1}),r(k,{type:"button",onClick:C,class:"block",severity:"danger",outlined:"",style:{"max-width":"320px","margin-bottom":"32px"}},{default:n(()=>e[19]||(e[19]=[x("Cancel")])),_:1})]),e[20]||(e[20]=a("span",{class:"font-medium text-surface-600 dark:text-surface-200"},[x("Already have an account? "),a("a",{class:"font-semibold cursor-pointer text-surface-900 dark:text-surface-0 hover:text-primary transition-colors duration-300"},"Login")],-1))]),e[21]||(e[21]=a("div",{class:"login-footer flex items-center mt-6"},[a("div",{class:"flex items-center login-footer-logo-container pr-6 mr-6 border-r border-surface-200 dark:border-surface-700"},[a("img",{src:A,class:"login-footer-logo",style:{width:"22px"}}),a("img",{src:L,class:"login-footer-appname ml-2",style:{width:"45px"}})]),a("span",{class:"text-sm text-surface-500 dark:text-surface-400 mr-4"},"Copyright 2024")],-1))])])]),_:1})])],2)}}};export{de as default};
